const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ImageFile-SGnJshYu.js","assets/index-BMd-QA-V.js","assets/index-B2HwbZng.css","assets/UpdateMember-fVE_Rvwz.js","assets/DErrors-Beq5o5sd.js","assets/MessageSearchModal-D2EZzN0n.js","assets/MessageRender-BhNf53ew.js","assets/regex-CP_ygsHJ.js","assets/emoji-B_StZ82w.js","assets/MessageRender-Tegw08a8.css","assets/MessageSearchModal-DN-ksFQ-.css","assets/ContactManager-BIw28FLV.js","assets/RoomFileModal-CIht-9Kv.js","assets/FileSize-D3D-1plQ.js"])))=>i.map(i=>d[i]);
import{_ as D,H as N,a as S,l as $,m as U,o as a,c as n,g as e,u as s,d as A,h as m,v as g,t as r,y as p,f as v,x as P,n as L,z as F,i as H,C as _,D as u,E as x,s as f,Y as K,p as z,k as Y}from"./index-BMd-QA-V.js";const l=h=>(z("data-v-d567f7ef"),h=h(),Y(),h),j={class:"px-3 py-2 user-chat-topbar"},q={class:"row align-items-center"},G={class:"col-sm-4 col-8"},J={class:"d-flex align-items-center"},Q=l(()=>e("div",{class:"flex-shrink-0 d-block d-lg-none me-3"},[e("a",{href:"javascript: void(0);",class:"user-chat-remove fs-18 p-1"},[e("i",{class:"ri-arrow-left-s-line align-bottom"})])],-1)),W={key:0,class:"flex-grow-1 overflow-hidden"},X={class:"d-flex align-items-center"},Z={class:"flex-shrink-0 chat-user-img online user-own-img align-self-center me-2 ms-0"},ee={class:"avatar-sm"},se=["src"],oe={key:0,class:"user-status"},te={class:"flex-grow-1 overflow-hidden cursor-pointer"},ie={class:"text-truncate mb-0 fs-20"},ae={class:"text-reset username"},ne={key:0,class:"text-truncate text-muted fs-14 mb-0 userStatus cursor-pointer"},ce={class:"col-sm-8 col-4"},re={class:"list-inline user-chat-nav text-end mb-0"},le={class:"list-inline-item m-0"},de={class:"d-flex"},me={class:"py-2 me-2"},_e={class:"search-box"},ue=["placeholder"],he={class:"py-2"},pe={class:"py-2"},ve=l(()=>e("div",{class:"py-2"},[e("button",{class:"btn btn-ghost-success btn-icon",type:"button",title:"Danh sách công việc của bạn"},[e("i",{class:"ri ri-task-line"})])],-1)),fe={class:"list-inline-item m-0"},ge={class:"dropdown"},ye=l(()=>e("button",{class:"btn btn-ghost-success btn-icon",type:"button","data-bs-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},[e("i",{class:"ri ri-menu-2-line"})],-1)),be={class:"dropdown-menu dropdown-menu-end"},ke=l(()=>e("i",{class:"ri-mic-off-line align-bottom text-muted me-2"},null,-1)),we=l(()=>e("i",{class:"ri-logout-box-r-line align-bottom text-muted me-2"},null,-1)),Re=l(()=>e("i",{class:"ri-delete-bin-5-line align-bottom text-muted me-2"},null,-1)),xe={__name:"ChatHeader",setup(h){const E=_(()=>u(()=>import("./ImageFile-SGnJshYu.js"),__vite__mapDeps([0,1,2]))),C=_(()=>u(()=>import("./UpdateMember-fVE_Rvwz.js"),__vite__mapDeps([3,1,2,4]))),M=_(()=>u(()=>import("./MessageSearchModal-D2EZzN0n.js"),__vite__mapDeps([5,1,2,6,7,8,0,9,10]))),O=_(()=>u(()=>import("./ContactManager-BIw28FLV.js"),__vite__mapDeps([11,1,2,4]))),T=_(()=>u(()=>import("./RoomFileModal-CIht-9Kv.js"),__vite__mapDeps([12,1,2,13,0]))),y=N.useEvent(),o=S(),b=$(null),c=U({active_search:!1,keyword:""}),k=function(t=null){y.emit("show-modal-search-message",t)},I=function(){x({title:"Bạn muốn rời khỏi room này?"}).then(async t=>{t.isConfirmed&&((await o.updateRoom(o.chat.CURRENT_ROOM.id,{leave:o.chat.CURRENT_USER.id})).success?f({icon:"success",title:"Bạn đã rời room bạn được chuyển về room My Chat"}):f({icon:"error",title:"Có lỗi"}))})},V=function(){f({icon:"error",title:"Chưa có làm !"})},B=function(){x({title:"Bạn muốn xóa room này?"}).then(async t=>{t.isConfirmed&&f({icon:"error",title:"Không cho phép xóa đâu?"})})};return y.on("search-room-focus",()=>{setTimeout(()=>{b.value.focus()},50)}),(t,i)=>{var R;const w=K;return a(),n("div",j,[e("div",q,[e("div",G,[e("div",J,[Q,s(o).room?(a(),n("div",W,[e("div",X,[e("div",Z,[e("div",ee,[s(o).room.icon?(a(),A(s(E),{key:0,img_id:s(o).room.icon,class:"rounded-circle img-fluid userprofile"},null,8,["img_id"])):(a(),n("img",{key:1,class:"rounded-circle img-fluid userprofile",src:"https://ui-avatars.com/api/?name="+s(o).room.name},null,8,se))]),s(o).room.type===3?(a(),n("span",oe)):m("",!0)]),e("div",te,[g((a(),n("h5",ie,[e("a",ae,r((R=s(o).room)==null?void 0:R.name),1)])),[[w,void 0,void 0,{update_room_info:!0}]]),s(o).chat.ROOM_MEMBER[s(o).chat.CURRENT_ROOM.id]?g((a(),n("p",ne,[p(r(s(o).chat.ROOM_MEMBER[s(o).chat.CURRENT_ROOM.id].length)+" "+r(t.$t("chat.message.member")),1)])),[[w,void 0,void 0,{update_member_modal:!0}]]):m("",!0),v(s(C))])])])):m("",!0)])]),e("div",ce,[e("ul",re,[e("li",le,[e("div",de,[e("div",me,[e("div",_e,[g(e("input",{type:"text",class:L(["form-control bg-light border-light",{active:s(c).active_search}]),placeholder:t.$t("chat.message.find-message-in-room"),id:"searchMessage",ref_key:"search",ref:b,onFocusin:i[0]||(i[0]=d=>s(c).active_search=!0),onFocusout:i[1]||(i[1]=d=>s(c).active_search=!1),onKeyup:i[2]||(i[2]=F(d=>k(s(c).keyword),["enter"])),"onUpdate:modelValue":i[3]||(i[3]=d=>s(c).keyword=d)},null,42,ue),[[P,s(c).keyword]]),e("i",{class:"ri-search-2-line search-icon cursor-pointer px-3",onClick:i[4]||(i[4]=H(d=>k(),["prevent","stop"]))})]),v(s(M))]),e("div",he,[v(s(O))]),e("div",pe,[v(s(T))]),ve])]),e("li",fe,[e("div",ge,[ye,e("div",be,[e("a",{class:"dropdown-item cursor-pointer",onClick:V},[ke,p(r(t.$t("chat.message.off-notification")),1)]),s(o).room&&s(o).room.type===1?(a(),n("a",{key:0,class:"dropdown-item cursor-pointer",onClick:I},[we,p(r(t.$t("chat.message.leave-room")),1)])):m("",!0),s(o).room&&s(o).room.type===1&&s(o).member&&s(o).member.type===2?(a(),n("a",{key:1,class:"dropdown-item cursor-pointer",onClick:B},[Re,p(r(t.$t("chat.message.delete-room")),1)])):m("",!0)])])])])])])])}}},Ce=D(xe,[["__scopeId","data-v-d567f7ef"]]);export{Ce as default};
