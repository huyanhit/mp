import{a as f,H as v,l as R,m as b,o as I,d as L,w as c,f as p,u as l,g as r,P as w,O as F,W}from"./index-BMd-QA-V.js";const E={class:"b-overlay-wrap text-center",style:{"min-height":"300px"}},d={__name:"ShowImageFile",props:["item"],setup(g){const n=new w,a=f(),_=v.useEvent(),s=R(null),t=b({show:!1,overlay:!1});_.on("show-image-modal",e=>{s.value.src="",t.show=!0,t.overlay=!0,h(e)});const h=function(e){a.chat.FILE_RAW&&a.chat.FILE_RAW[e]&&a.chat.FILE_RAW[e].blob&&s.value?(s.value.src=a.chat.FILE_RAW[e].blob,t.overlay=!1):n.getImageRaw({id:e}).then(o=>o.blob()).then(o=>{a.chat.FILE_RAW&&a.chat.FILE_RAW[e]?a.chat.FILE_RAW[e].blob=URL.createObjectURL(o):a.chat.FILE_RAW={...a.chat.FILE_RAW,[e]:{blob:URL.createObjectURL(o)}},s.value&&(s.value.src=a.chat.FILE_RAW[e]?a.chat.FILE_RAW[e].blob:null),t.overlay=!1})};return(e,o)=>{const u=F,m=W;return I(),L(m,{"hide-footer":"",modelValue:l(t).show,"onUpdate:modelValue":o[0]||(o[0]=i=>l(t).show=i),size:"xl",title:"Image"},{default:c(()=>[p(u,{show:l(t).overlay},{default:c(()=>[r("div",E,[r("img",{src:"",alt:"",ref_key:"img",ref:s,class:"inline-block min-w-40"},null,512)])]),_:1},8,["show"])]),_:1},8,["modelValue"])}}};export{d as default};
